//Найти в матрице первую строку, все элементы которой положительны, и
//сумму этих элементов. Уменьшить все элементы матрицы на эту сумму.
#include <stdio.h>

#define n 3
#define m 3

void findFirstRowAndReduce(int matrix[n][m]) //функция которая ищет первую строку с положит. эл-ми и уменьшает все эл-ты на их сумму
{
    int sum = 0;
    int found = 0; //переменная, которая используется для отслеживания нахождения строки, все элементы которой являются положительными. 
	//Она инициализируется значением 0, указывая на то, что такая строка еще не найдена. Во время выполнения цикла, который итерируется по строкам матрицы, 
	//если строка с положительными элементами найдена, значение переменной found устанавливается в 1, чтобы отметить, что такая строка была обнаружена
    
    for (int i = 0; i < n; i++) 
	{
        int allPositive = 1;    //логическая переменная, которая используется для отслеживания того, 
		//являются ли все элементы в строке матрицы положительными или нет. Она инициализируется значением 1, предполагая, что все элементы в строке
		// изначально положительные. Во время выполнения внутреннего цикла, который проходит по элементам строки, если какой-либо элемент оказывается
		// меньше или равным 0 ( не положителен), allPositive устанавливается в значение 0, указывая на то, что не все элементы в строке являются положительными. 
		//Эта переменная используется для определения того, является ли строка с положительными элементами первой найденной строкой, соответствующей условию      
        for (int j = 0; j < m; j++) 
		{
            if (matrix[i][j] <= 0) 
			{
                allPositive = 0;
                break;
            }
        }
        
        if (allPositive) //если найдена нужная строка, кот. содержит ТОЛЬКО положит. эл-ты
		{
            found = 1; //указывается, что первая строка с положительными элементами была найдена
            printf("First row with all positive elements: Row %d\n", i + 1);
            for (int j = 0; j < m; j++) 
			{
                sum += matrix[i][j]; //суммирование найденых элементов
            }
            break;
        }
    }
    
    if (found) //проверка, была ли найдена первая строка с положительными элементами матрицы
	{
        printf("Sum of positive elements: %d\n", sum);
        printf("Reducing all elements by %d\n", sum);
        for (int i = 0; i < n; i++) 
		{
            for (int j = 0; j < m; j++) 
			{
                matrix[i][j] -= sum; //уменьшаем все элементты на сумму эл-тов из первой строки, где все положительные
            }
        }
        printf("Matrix after reduction:\n");
        for (int i = 0; i < n; i++)  //ввыводим новую матрицу, где все элементы уменьшены
		{
            for (int j = 0; j < m; j++) 
			{
                printf("%d ", matrix[i][j]);
            }
            printf("\n");
        }
    } 
	else  //если не было найдено ничего, что бы удовлетворяло условию и пишется, что не найдено нужной строки
	{
        printf("No row found with all positive elements.\n");
    }
}

int main() 
{
    int matrix[n][m] =  //вводим матрицу
	{
        {1, 2, 3},
        {-4, 5, -6},
        {7, 8, 9}
    };
    
    printf("Original matrix:\n");  //выводим матрицу
    for (int i = 0; i < n; i++) 
	{
        for (int j = 0; j < m; j++) 
		{
            printf("%d ", matrix[i][j]);
        }
        printf("\n");
    }
    
    findFirstRowAndReduce(matrix);  //выполняем функцию с нахождением первой строки, состоящ. из положит. эл-тов
    //находим сумму тех эл-тов и уменьшаем все эл-ты на неё
    
    return 0;
}




